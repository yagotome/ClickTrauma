package br.com.yagotome.clicktrauma.dao;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import org.junit.After;
import org.junit.Before;
import org.junit.Test;

import br.com.yagotome.clicktrauma.modelo.Usuario;

public class UsuarioDaoTest {
	private EntityManagerFactory factory;
	private EntityManager manager;
	private UsuarioDao dao;
	@Before
	public void init() {
		factory = Persistence
				.createEntityManagerFactory("ClickTrauma");
		manager = factory.createEntityManager();
		dao = new UsuarioDaoImpl(manager);
	}
	
	@After
	public void destroy() {
		manager.close();
		factory.close();
	}
	
	@Test
	public void testInsere() {
		Usuario usuario = new Usuario("Yago Tomé", "yagotome", "1234");
		usuario.setEmail("yagotome@gmail.com");
		dao.insere(usuario);
	}

	@Test
	public void testAtualiza() {
		Usuario usuario = new Usuario("Yago Tomé", "yagotome", "1234");
		usuario.setEmail("yagotome@gmail.com");
		dao.insere(usuario);
	}

	@Test
	public void testGetById() {
		Usuario usuario = dao.getById(1L);
		
	}
}
